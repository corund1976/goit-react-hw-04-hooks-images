(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem___yqG4",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1ONgd"}},14:function(e,t,a){e.exports={Button:"Button_Button__2mVST",buttonWrapper:"Button_buttonWrapper__bQwcK"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1LuRk",Modal:"Modal_Modal__31Pib"}},27:function(e,t,a){e.exports={container:"Container_container__2d7w9"}},28:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2BYys"}},30:function(e,t,a){e.exports={Loader:"Loader_Loader__3mdQq"}},37:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3kkOy",SearchForm:"Searchbar_SearchForm__3AZhF",SearchForm_button:"Searchbar_SearchForm_button__28WrT",SearchForm_button__label:"Searchbar_SearchForm_button__label__St24_",SearchForm_input:"Searchbar_SearchForm_input__1ifGI"}},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),u=(a(37),a(31)),i=a(16),s=a(4),l=a(12),m=a.n(l),b=a(26),h=a(10),j=a.n(h);j.a.defaults.baseURL="https://pixabay.com/api/";var d=function(e,t){return j.a.defaults.params={key:"23749479-af26a543787f3771d684a474e",q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",page:t,per_page:12}};function f(){return(f=Object(b.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t,a),e.next=3,j.a.get().then((function(e){return e.data.hits})).catch((function(e){return console.log("error: ",e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=a(27),g=a.n(_),O=a(1);var p=function(e){var t=e.children;return Object(O.jsx)("div",{className:g.a.container,children:t})},S=a(5),v=a.n(S);var x=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1],u=function(){return o("")};return Object(O.jsx)("header",{className:v.a.Searchbar,children:Object(O.jsxs)("form",{className:v.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),u()):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430...")},children:[Object(O.jsx)("button",{type:"submit",className:v.a.SearchForm_button,children:Object(O.jsx)("span",{className:v.a.SearchForm_button__label,children:"Search"})}),Object(O.jsx)("input",{className:v.a.SearchForm_input,type:"text",value:c,onChange:function(e){return o(e.target.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},y=a(32),I=a(13),w=a.n(I);var L=function(e){var t=e.image,a=t.webformatURL,n=t.largeImageURL,r=t.tags,c=e.onShowModal;return Object(O.jsx)("li",{className:w.a.ImageGalleryItem,onClick:function(){return c({modalImage:{largeImageURL:n,tags:r}})},children:Object(O.jsx)("img",{src:a,alt:r,className:w.a.ImageGalleryItem_image})})},M=a(28),N=a.n(M);var k=function(e){var t=e.images,a=e.onShowModal;return Object(O.jsx)("ul",{className:N.a.ImageGallery,children:t.map((function(e){var t=e.id,n=Object(y.a)(e,["id"]);return Object(O.jsx)(L,{image:n,onShowModal:a},t)}))})},F=a(14),G=a.n(F),E=function(e){var t=e.onLoadMore;return Object(O.jsx)("div",{className:G.a.buttonWrapper,children:Object(O.jsx)("button",{type:"button",className:G.a.Button,onClick:t,children:"Load more..."})})},B=a(29),T=a.n(B),C=(a(78),a(30)),R=a.n(C);var U=function(){return Object(O.jsx)(T.a,{className:R.a.Loader,type:"MutatingDots",color:"#3f51b5",height:100,width:100,timeout:3e3})},q=a(15),W=a.n(q);var D=function(e){var t=e.modalImage,a=e.onToggleModalStatus;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(e){"Escape"===e.code&&a()},c=t.largeImageURL,o=t.tags;return Object(O.jsx)("div",{className:W.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(O.jsx)("div",{className:W.a.Modal,children:Object(O.jsx)("img",{src:c,alt:o})})})};a(79);var J=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],m=o[1],b=Object(n.useState)(1),h=Object(s.a)(b,2),j=h[0],d=h[1],_=Object(n.useState)(null),g=Object(s.a)(_,2),S=g[0],v=g[1],y=Object(n.useState)(!1),I=Object(s.a)(y,2),w=I[0],L=I[1],M=Object(n.useState)({}),N=Object(s.a)(M,2),F=N[0],G=N[1],B=Object(n.useState)(!0),T=Object(s.a)(B,2),C=T[0],R=T[1];Object(n.useEffect)((function(){""!==a&&(m([]),d(1),v(null),q(1))}),[a]),Object(n.useEffect)((function(){l.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[l]);var q=function(e){L(!0),d((function(e){return e+1})),function(e,t){return f.apply(this,arguments)}(a,e).then((function(e){if(0===e.length)return Promise.reject(new Error("There is no pictures by ".concat(a," name, please try another request")));m((function(t){return[].concat(Object(i.a)(t||[]),Object(i.a)(e))}))})).catch((function(e){return v(e)})).finally((function(){return L(!1)}))},W=function(){R((function(e){return!e}))};return Object(O.jsxs)(p,{children:[Object(O.jsx)(x,{onSubmit:function(e){r(e)}}),S&&Object(O.jsx)("h1",{children:S.message}),Object(O.jsx)(k,{images:l,onShowModal:function(e){var t=e.modalImage;G(Object(u.a)({},t)),W()}}),w&&Object(O.jsx)(U,{}),!!l.length&&!w&&Object(O.jsx)(E,{onLoadMore:function(){q(j)}}),!C&&Object(O.jsx)(D,{onToggleModalStatus:W,modalImage:F})]})};o.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.85763de9.chunk.js.map